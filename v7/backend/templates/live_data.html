<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Device and User Data</title>
    <!-- Add your CSS and JavaScript links here -->
  </head>
  <body>
    <h2>Device and User Data</h2>
    <form
      method="POST"
      action="{{ url_for('update_device_user_details', device_id=device.id) }}"
    >
      <label for="nickname">Device Nickname:</label>
      <input
        type="text"
        id="nickname"
        name="nickname"
        value="{{ device.nickname }}"
        required
      />

      <label for="user_name">User's Name:</label>
      <input
        type="text"
        id="user_name"
        name="user_name"
        value="{{ user_detail.user_name }}"
        required
      />

      <label for="phone_number">Phone Number:</label>
      <input
        type="text"
        id="phone_number"
        name="phone_number"
        value="{{ user_detail.phone_number }}"
        required
      />

      <label for="bpm_upper_threshold">BPM Upper Threshold:</label>
      <input
        type="number"
        id="bpm_upper_threshold"
        name="bpm_upper_threshold"
        value="{{user_detail.bpm_upper_threshold}}"
        required
      />

      <label for="bpm_lower_threshold">BPM Lower Threshold:</label>
      <input
        type="number"
        id="bpm_lower_threshold"
        name="bpm_lower_threshold"
        value="{{user_detail.bpm_upper_threshold}}"
        required
      />

      <label for="temperature_upper_threshold"
        >Temperature Upper Threshold:</label
      >
      <input
        type="number"
        id="temperature_upper_threshold"
        name="temperature_upper_threshold"
        value="{{user_detail.temperature_upper_threshold}}"
        required
      />

      <label for="temperature_lower_threshold"
        >Temperature Lower Threshold:</label
      >
      <input
        type="number"
        id="temperature_lower_threshold"
        name="temperature_lower_threshold"
        value="{{user_detail.temperature_lower_threshold}}"
        required
      />

      <input type="submit" value="Update" />
    </form>

    <div id="live-data">
      <h3>Live Data</h3>
      <p>BPM: <span id="bpm">--</span></p>
      <p>Temperature: <span id="temperature">--</span></p>
    </div>

    <form
      action="{{ url_for('delete_device', device_id=device.id) }}"
      method="post"
    >
      <input
        type="submit"
        value="Delete Device"
        onclick="return confirm('Are you sure?');"
      />
    </form>

    <a href="{{ url_for('index') }}">Back to Home</a>

    {% with messages = get_flashed_messages(with_categories=true) %} {% if
    messages %}
    <ul class="flashes">
      {% for category, message in messages %}
      <li class="{{ category }}">{{ message }}</li>
      {% endfor %}
    </ul>
    {% endif %} {% endwith %}

    <script>
      // JavaScript to handle fetching and updating live data goes here
    </script>
  </body>
</html>
